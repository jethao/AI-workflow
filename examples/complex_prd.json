{
  "title": "E-Commerce Order Management System",
  "description": "Design and implement a comprehensive order management system for an e-commerce platform that handles order lifecycle from creation through fulfillment, including inventory management, payment processing, and shipping integration.",
  "level": "product",
  "objectives": [
    "Enable customers to place orders seamlessly",
    "Manage order lifecycle with clear state transitions",
    "Integrate with payment gateway and shipping providers",
    "Track inventory in real-time",
    "Provide order status updates to customers",
    "Handle order cancellations and refunds",
    "Generate order reports and analytics"
  ],
  "user_stories": [
    "As a customer, I want to place an order with multiple items so that I can purchase products",
    "As a customer, I want to track my order status so that I know when it will arrive",
    "As a customer, I want to cancel my order before it ships so that I can get a refund",
    "As a warehouse staff, I want to process orders in the fulfillment queue so that I can ship products",
    "As an admin, I want to view order analytics so that I can understand sales patterns",
    "As a system, I want to automatically update inventory when orders are placed",
    "As a system, I want to handle payment failures gracefully and notify customers"
  ],
  "requirements": [
    "REST API for order operations (CRUD)",
    "Order state machine: pending → confirmed → processing → shipped → delivered",
    "Inventory management with stock level tracking",
    "Payment gateway integration (Stripe/PayPal)",
    "Shipping provider integration (FedEx/UPS)",
    "Real-time order status updates via webhooks",
    "Order cancellation and refund processing",
    "Email notifications for order events",
    "Order search and filtering",
    "Analytics dashboard with order metrics",
    "Concurrent order handling without race conditions",
    "Idempotent API operations",
    "Transaction rollback on payment failures"
  ],
  "success_metrics": [
    "Order placement success rate > 99.5%",
    "Average order processing time < 2 seconds",
    "Payment processing success rate > 98%",
    "Zero inventory race conditions",
    "API response time < 500ms for 95th percentile",
    "Order tracking accuracy 100%",
    "System uptime > 99.9%"
  ],
  "constraints": [
    "Must use Python with FastAPI for backend",
    "Must use PostgreSQL for data persistence",
    "Must use Redis for caching and queues",
    "Must support 10,000 concurrent orders",
    "Must be cloud-native (Docker/Kubernetes ready)",
    "Must comply with PCI DSS for payment data",
    "Must implement circuit breakers for external services"
  ]
}
